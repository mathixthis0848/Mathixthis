<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body {
            font-family: 'Arial', sans-serif; /* Définit la police de caractères pour le corps de la page */
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100vh; /* Prend 100% de la hauteur de l'écran */
            margin: 0; /* Supprime les marges par défaut */
            background-color: #000 ; /* Définit une image de fond */
            color: #fff; /* Définit la couleur du texte */
        }

        /* Styles pour le conteneur de photos */
        #photo-container {
            width: 500px; /* Définit la largeur du conteneur de photos */
            height: 500px; /* Définit la hauteur du conteneur de photos */
            overflow: hidden; /* Cache le débordement des photos hors du conteneur */
            position: relative;
            border: 10px solid #82ccaa; /* Bordure apaisante en vert pastel */
            border-radius: 15px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.3); /* Ajoute une ombre à la boîte */
        }

        #photo-list {
            display: flex;
            transition: transform 1s ease-in-out; /* Ajoute une transition douce au déplacement des photos */
        }

        .photo {
            width: 500px; /* Définit la largeur des photos */
            height: 500px; /* Définit la hauteur des photos */
            flex-shrink: 0; /* Empêche les photos de rétrécir plus que leur taille initiale */
        }

        /* Styles pour les boutons de navigation */
        #prev-btn, #next-btn, #vote-btn {
            position: absolute;
            cursor: pointer;
            font-size: 18px;
            border: none;
            border-radius: 5px;
            outline: none;
        }

        #prev-btn, #next-btn {
            top: 50%;
            color: #fff;
            padding: 8px 12px;
            background-color: #82ccaa; /* Vert pastel */
        }

        #prev-btn:hover, #next-btn:hover {
            background-color: #5a9c7e; /* Vert pastel plus foncé au survol */
        }

        #prev-btn {
            left: 10px;
        }

        #next-btn {
            right: 10px;
        }

        #vote-btn {
            top: 80%;
            left: 50%;
            transform: translateX(-50%);
            color: #fff;
            padding: 10px 20px;
            background-color: #82ccaa; /* Vert pastel */
        }

        #vote-btn:hover {
            background-color: #5a9c7e; /* Vert pastel plus foncé au survol */
        }

        /* Styles pour le modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
        }

        .modal-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: #000;
            padding: 20px;
            border-radius: 10px;
        }

        .close {
            position: absolute;
            top: 10px;
            right: 10px;
            color: #fff;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div id="photo-container">
        <div id="photo-list">
            <img class="photo" src="image1.jpg" alt="Photo 1">
            <img class="photo" src="image2.jpg" alt="Photo 2">
            <img class="photo" src="image3.jpg" alt="Photo 3">
            <img class="photo" src="image4.jpg" alt="Photo 4">
            <img class="photo" src="image5.jpg" alt="Photo 5">
            <img class="photo" src="image6.jpg" alt="Photo 6">
            <img class="photo" src="image7.jpg" alt="Photo 7">
            <img class="photo" src="image8.jpg" alt="Photo 8">
            <img class="photo" src="image9.jpg" alt="Photo 9">
            <img class="photo" src="image10.jpg" alt="Photo 10">
        </div>
        <button id="prev-btn" onclick="prevPhoto()">Précédente</button>
        <button id="next-btn" onclick="nextPhoto()">Suivante</button>
        <button id="vote-btn" onclick="showVoteOptions()">Voter pour cette photo</button>
        
        <div id="vote-modal" class="modal">
            <div class="modal-content">
                <span class="close" onclick="closeVoteModal()">&times;</span>
                <h2>Choisissez une personne</h2>
                <select id="vote-options">
                    <option value="person1">Personne 1</option>
                    <option value="person2">Personne 2</option>
                    <option value="person3">Personne 3</option>
                </select>
                <button onclick="vote()">Voter</button>
            </div>
        </div>
    </div>

    <script>
        const photoContainer = document.getElementById('photo-container');
        const photoList = document.getElementById('photo-list');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const voteBtn = document.getElementById('vote-btn');

        let currentIndex = 0;

        function prevPhoto() {
            currentIndex = (currentIndex - 1 + photoList.children.length) % photoList.children.length;
            updatePhotoList();
        }

        function nextPhoto() {
            currentIndex = (currentIndex + 1) % photoList.children.length;
            updatePhotoList();
        }

        function updatePhotoList() {
            const newPosition = -currentIndex * photoContainer.clientWidth;
            photoList.style.transform = `translateX(${newPosition}px)`;
        }

        function showVoteOptions() {
            // Afficher la boîte de dialogue (modal)
            document.getElementById('vote-modal').style.display = 'block';
            // Masquer le bouton "Voter pour cette photo"
            document.getElementById('vote-btn').style.display = 'none';
        }

        function closeVoteModal() {
            // Fermer la boîte de dialogue (modal)
            document.getElementById('vote-modal').style.display = 'none';
            // Afficher à nouveau le bouton "Voter pour cette photo"
            document.getElementById('vote-btn').style.display = 'block';
        }

        function vote() {
            // Ajoutez votre logique de vote ici
            // Cette fonction doit être complétée avec la logique de vote appropriée
        }
    </script>
</body>
</html>




# PROF CLIENT CHAT
# -*- coding: utf-8 -*- 
import socket

def start_client():
    # Créer un socket IPv4 et TCP
    client_socket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)

    # Connexion au serveur
    server_address = ("127.0.0.1", 2948)  # Adresse IP et port du serveur
    client_socket.connect(server_address)

    try:
        # Boucle pour envoyer et recevoir des messages
        while True:
            # Envoyer un message au serveur
            message = input("You: ")
            client_socket.send(message.encode('utf-8'))

            # Recevoir la réponse du serveur
            response = client_socket.recv(1024)
            print("Server says:", response.decode('utf-8'))

    except KeyboardInterrupt:
        print("Closing connection.")
        client_socket.close()

if __name__ == "__main__":
    start_client()
    
    
# PROF SERVEUR CHAT    
# -*- coding: utf-8 -*-
import socket

def handle_client(client_socket):
    while True:
        try:
            # Recevoir les données du client
            data = client_socket.recv(1024)
            if not data:
                print("Client disconnected")
                # Envoyer un message au client pour indiquer qu'il est déconnecté
                client_socket.send("Vous êtes déconnecté.".encode('utf-8'))
                break

            # Afficher les données reçues
            print("Client says:", data.decode('utf-8'))

            # Envoyer une réponse
            response = input("You: ")
            client_socket.send(response.encode('utf-8'))
        except Exception as e:
            print("Erreur:", e)
            break

    # Fermer la connexion avec le client
    client_socket.close()

def start_server():
    # Recuperation de l'adresse IP du serveur
    # IP = socket.gethostbyname(socket.gethostname())
    # Créer un socket IPv4 et TCP
    server_socket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)

    # Lier le socket à une adresse et un port dynamique (supérieur à 49152)
    server_socket.bind(("127.0.0.1", 2948))

    # Écouter les connexions entrantes
    server_socket.listen(5)
    print("Server listening on port 2948")
    print("Communiquer l'adresse du serveur au client :", "127.0.0.1")

    while True:
        # Accepter la connexion du client
        client_socket, addr = server_socket.accept()
        print("Accepted connection from {}".format(addr))

        # Gérer le client
        handle_client(client_socket)

if __name__ == "__main__":
    start_server()
